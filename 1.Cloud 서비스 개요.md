# 1. Cloud 서비스 개요
## 클라우드 컴퓨팅 유형


### 클라우드 컴퓨팅 유형 - 1
<img width="1000" alt="image" src="https://github.com/limp666/cloud-class/assets/63759208/7ee0e282-45a0-46ac-b40a-7be6b2a51aa9">

<img width="1000" alt="image" src="https://github.com/limp666/cloud-class/assets/63759208/9656a9b5-210f-4262-88b7-5b824d171969">

</br>
</br>
</br>

### 클라우드 컴퓨팅 유형 - 2
<img width="1000" alt="image" src="https://github.com/limp666/cloud-class/assets/63759208/a0b3ebb0-4dd7-43a8-8cb8-65f099bd0413">

<img width="1000" alt="image" src="https://github.com/limp666/cloud-class/assets/63759208/57e7bb4a-95ae-48ed-8e54-7f59fba2b068">

</br>
</br>
</br>
   
### 기존 인프라와의 차이점(On-premise vs Cloud)
<img width="1000" alt="image" src="https://github.com/limp666/cloud-class/assets/63759208/fb97a0f7-2e79-4de8-ba7b-8859dd48395e">

</br>
</br>
</br>

## CSP/MSP?

### 클라우드 서비스 공급자(Coud Service Provider, CSP)
<img width="719" alt="image" src="https://github.com/limp666/cloud-class/assets/63759208/248027bd-894e-43e7-be29-4b17605661cc">
</br>
</br>
</br>
   

### 관리형 서비스 공급자(Managed Service Provider, MSP)
<img width="700" alt="image" src="https://github.com/limp666/cloud-class/assets/63759208/d34580f8-7c54-403e-83d1-575c23283011">
   
- MSP 서비스 영역
<img width="800" alt="image" src="https://image.samsungsds.com/kr/techreport/img_techreport_repo10_2.png?queryString=20231030023850">

- MSP 변화 모습
<img width="800" alt="image" src="https://image.samsungsds.com/kr/techreport/img_techreport_repo10_3.png?queryString=20231030023850">

- MSP Player 동향
<img width="800" alt="image" src="https://image.samsungsds.com/kr/techreport/img_techreport_repo10_7.png?queryString=20231030023850">


</br>
</br>
</br>

## CSP-MSP의 협력

- 최근 CSP를 통해 클라우드 서비스를 도입했지만, 관리는 MSP에 위임하는 움직임이 커지자 CSP는 전문 MSP와 파트너사 구축 및 직접 인수 추진

<img width="693" alt="image" src="https://github.com/limp666/cloud-class/assets/63759208/91eb4dc0-ae59-427a-9c4d-1dc58749b92f">


</br>
</br>
</br>


## 최대 규모의 클라우드 제공업체
- 3대 클라우드 제공업체는 다음과 같습니다. Statista 아마존 웹 서비스(AWS), 마이크로소프트 애저, 구글 클라우드 플랫폼(GCP)이 있습니다.
- 아마존 웹 서비스(AWS)는 32%의 시장 점유율과 145만 개 이상의 기업 고객 기반을 보유한 세계 최대 클라우드 제공업체입니다.
- Microsoft Azure와 Google Cloud Platform(GCP)이 각각 2위와 3위를 차지했습니다.

| 회사 |	본사	| 시장 점유율 | 연간 수익 |
|---|---|---|---|
|아마존 웹 서비스(AWS)| 워싱턴, 미국	| 32%| ≈$800억 |
|Microsoft Azure	|레드몬드, 미국	| 22%	|≈$340억 |
|Google 클라우드 플랫폼(GCP)	|캘리포니아, 미국	|11%	|≈$74억 달러|
|Oracle 클라우드	|텍사스, 미국	|2%	|≈$5.8억 달러|
|IBM 클라우드	|뉴욕, 미국	|3%	|≈$220억|
|알리바바 클라우드|	위항구, 중국|	4%	|≈$120억|
|Salesforce 클라우드	|캘리포니아, 미국|	3%	|≈$33.07억|
|랙스페이스|	텍사스, 미국	|0.96%|	≈$3.1 억 달러|
|디지털 오션 	|뉴욕, 미국	|1.55%|	≈$650 백만|
|OVHCloud	|루베, 프랑스	|<1%	|≈$2억2천만|

</br>
</br>
</br>

## 국내 클라우드 시장
<img width="350" alt="image" src="https://github.com/limp666/cloud-class/assets/63759208/f9205224-8d0c-4537-810c-adcc0838faba">
<img width="700" alt="image" src="https://www.idc.com/getfile.dyn?containerId=prAP51169023&attachmentId=47493792">
</br>
</br>
</br>

## 클라우드 서비스의 특징
클라우드 서비스? 인터넷을 통해 IT 리소스와 애플리케이션을 사용자가 원할때 언제든지(on-demand) 사용한 만큼 요금을 내는 서비스

<img width="800" alt="image" src="https://github.com/limp666/cloud-class/assets/63759208/fc462228-e193-4216-ae97-06e9e527250a">

- 탄력성/민첩성(agility elasticity)
  - 리소스에 대해 필요할 때 언제든 늘리고, 줄일 수 있음
  - 단한번의 클릭으로 생성/삭제 및 확장
- 확장성(scalability)
  - 물리 서버를 확장하려면 시간이 오래 걸리는 반면, 클라우드는 즉시 확장이 가능
  - 급증하는 서비스 트래픽에 빠르게 대비
- 사용한 만큼 지불(on-demand)
  - 전기 요금 처럼 사용 한 만큼 과금되며, 비용 예측이 가능
  - 무리한 자본지출 없이 빠른 시도와 회수 가능
- 내결합성 및 재해복구(Fault tolerance & Disaster Recovery)
  - 클라우드 백업 및 클라우드 DR 구성으로 데이터 손상 등 긴급 상황에 대처 가능
  - 내결합성 재해복구를 고려한 설계가 가능
- 고가용성(High availability)
  - 손쉬운 다중 가용영역 설정에 따라 고 가용성을 보장
  - 여러 개의 데이터센터가 고속 네트워크망으로 연결되어 가용성 설계 가능
- 유지 관리 간소화(Maintenance)
  - 물리적인 리소스를 유지할 필요가 없고, 부분적으로 클라우드 CSP 벤더에 위임   
</br>
</br>
</br>

## 클라우드 서비스 모델

<img width="1000" alt="image" src="https://lh3.googleusercontent.com/Zpw-v4ZOiAkbLm9ARSl68tGaZFYsFsz1ABwRbl8Cj_ozj12jCTPmgVGKBARz3Xwum1CUsMQ7Hog=e14-rj-sc0xffffff-h1000-w1000">

### IaaS(Infrastructure as a Service)
- IaaS는 클라우드를 통해 컴퓨팅, 스토리지, 네트워킹, 가상화와 같은 주문형 인프라 리소스를 조직에 제공
- 고객이 자체 데이터 센터 인프라를 관리, 유지관리 또는 업데이트할 필요는 없지만 운영체제, 미들웨어, 가상 머신, 앱 또는 데이터를 책임짐   
#### 장점   
- 인프라에 대한 제어 수준이 가장 높음
- 필요에 따라 확장 가능
- 단일 장애점이 없어 안정성이 높은 편임
- 초기 자본 지출 감소(예: 사용한 만큼만 지불)
- 프로비저닝 지연과 리소스 낭비 감소 
- 개발 및 TTM(time to market) 가속화   
#### 단점 
- 자체 데이터 보안 및 복구에 대한 책임
- 직접 구성하고 유지관리해야 함 
- 클라우드 기반 인프라에서 기존 애플리케이션을 보호하기 어려움   
   
</br>
</br>

### CaaS(Containers as a Service)
- CaaS는 컨테이너를 사용하여 애플리케이션을 개발하고 배포하는 데 필요한 모든 하드웨어 및 소프트웨어 리소스를 제공하고 관리합니다.
- IaaS의 하위 집합 또는 확장으로 간주되기도 하는 CaaS는 VM이 아닌 컨테이너를 기본 리소스로 사용합니다. 개발자와 IT 운영팀은 인프라 또는 플랫폼을 빌드 및 유지관리하여 컨테이너를 실행하고 관리할 필요 없이 CaaS를 사용하여 애플리케이션을 개발, 실행, 관리할 수 있습니다.
- 고객은 여전히 코드를 작성하고 데이터와 애플리케이션을 관리해야 하지만 컨테이너화된 앱을 빌드하고 배포하는 환경은 클라우드 서비스 제공업체에서 관리하고 유지관리합니다.
#### 장점
- 마이크로서비스 실행, 관리, 확장에 적합
- 개발 간소화로 TTM(time to market) 단축
- 네트워크 및 애플리케이션 구성요소의 제어 및 구성 세분화
- 하이브리드 클라우드 및 멀티 클라우드와 같은 환경 간 워크로드 이동성 증가
- 성능 모니터링 및 컨테이너 조정 기본 제공

#### 단점
- 일부 CaaS 솔루션은 클라우드 서비스 제공업체에 따라 언어 지원이 제한됩니다.
- CaaS를 사용할 경우 OS와 동일한 커널을 공유하므로(VM보다 안전하다고 간주되지만) 컨테이너 보안 위험이 증가할 수 있습니다. 

</br>
</br>

### PaaS(Platform as a Service)
- PaaS는 클라우드를 통해 애플리케이션을 개발하는 데 필요한 모든 하드웨어 및 소프트웨어 리소스를 제공하고 관리합니다.
- 개발자와 IT 운영팀은 인프라 또는 플랫폼을 자체적으로 빌드하고 유지관리할 필요 없이 PaaS를 사용하여 애플리케이션을 개발, 실행, 관리할 수 있습니다.
- 고객은 여전히 코드를 작성하고 데이터와 애플리케이션을 관리해야 하지만, 클라우드 서비스 제공업체에서 앱을 빌드하고 배포하는 환경을 관리하고 유지관리합니다.

#### 장점 
- 사용하기 쉬운 전체 개발 플랫폼에 즉시 액세스
- 유지관리 및 인프라 보안을 책임 지는 클라우드 서비스 제공업체 
- 모든 기기에서 모든 인터넷 연결을 통해 사용 가능
- 필요에 따라 확장 가능

#### 단점 
- 애플리케이션 스택이 가장 관련성 높은 구성요소로 제한될 수 있음
- 클라우드 서비스 제공업체에 따라 공급업체 종속이 문제가 될 수 있음
- 운영 및 전체 인프라에 대한 낮은 제어 수준
- 제한된 맞춤설정 

</br>
</br>

### SaaS(Software as a service)
- SaaS는 전체 애플리케이션 스택을 제공하여 고객이 액세스하고 사용할 수 있는 전체 클라우드 기반 애플리케이션을 제공합니다.
- SaaS 제품은 서비스 제공업체에서 모든 업데이트, 버그 수정, 전반적인 유지관리 등을 전적으로 관리하며 즉시 사용할 수 있습니다.
- 대부분의 SaaS 애플리케이션은 웹브라우저를 통해 직접 액세스할 수 있으므로 고객이 기기에 아무것도 다운로드하거나 설치할 필요가 없습니다.

#### 장점
간편하게 설정하고 사용 시작
제공업체가 하드웨어부터 소프트웨어까지 모든 것을 관리하고 유지관리
모든 기기에서 모든 인터넷 연결을 통해 소프트웨어에 액세스 가능 

#### 단점
인프라 또는 보안 제어에 대한 제어 권한 없음
기존 도구 및 애플리케이션과의 통합 문제 
클라우드 서비스 제공업체에 따라 공급업체 종속이 문제가 될 수 있음
맞춤설정이 거의 또는 전혀 없음
</br>
</br>

### 서버리스(Serverless)

<img width="600" alt="image" src="https://github.com/limp666/cloud-class/assets/63759208/fb363976-e893-47d3-b063-2be5f6ae8378">
   
- 서버리스는 애플리케이션 개발자가 서버를 프로비저닝하거나 애플리케이션의 확장을 관리할 필요가 없는 클라우드 컴퓨팅 모델
- 프로비저닝(Provisioning): 사용자의 요구에 맞게 시스템 자원을 할당, 배치, 배포해 두었다가 필요 시 시스템을 즉시 사용할 수 있는 상태로 미리 준비해 두는 것
- 서버가 없다는 것은 상징적인 표현으로 사실 작업을 처리하는 서버는 존재하고, 대신 서버 관리를 클라우드 사업자에 전가. 따라서 서버가 어떠한 사양으로 돌아가고 있는지, 서버의 개수를 늘려야 할지, 어떠한 네트워크를 사용할지 등을 고민하여 일일이 설정할 필요가 없음
- 특정 작업을 수행하기 위해서 컴퓨터 또는 가상머신에 서버를 설정하는 것 대신, BaaS(Backend as a Service)나 FaaS(Function as a Service)에 의존하여 작업을 처리
- 대표적인 BaaS 서비스로 구글 Firebase, 구글 Fabric, Kinvey 등, FaaS 서비스로 AWS Lambda, Azure Functions, Google Cloud Functions 등
<img width="600" alt="image" src="https://mblogthumb-phinf.pstatic.net/MjAxOTEyMTZfMjU2/MDAxNTc2NDc1NTQ5Nzg0.N8Rjf5PRJpWwtCNDmS0ifjTAscY8b8zw6TlYx_38H0og.9SKpToWGnDmrc5-VIJT9RRPxHxsBG19-oVjKkWRXT_sg.PNG.shakey7/image.png?type=w800">
   
- 서버리스의 장점
   - 기존 IaaS나 PaaS와는 다르게 실제 사용량에 대해서만 비용이 청구되어 경제적이다.
   - 서버 인프라에 신경을 쓸 필요가 없으므로 애플리케이션의 품질 향상에 더 집중할 수 있다.
   - 요청이 들어올때만 실행되고 동적으로 자원을 할당하기 때문에 가용성이 높고 스케일링에 신경 쓸 필요가 없다.
- 서버리스의 단점
   - 서버가 항시 요청에 대기하고 있지 않기때문에 IaaS, PaaS보다 느리다. 프로젝트의 규모가 커지거나 속도를 요구하는 프로젝트라면 사용에 있어 고민할 필요가 있다.
   - 기존 IaaS, PaaS 모델은 플랫폼을 바꾸는게 어렵지 않지만, 서버리스는 애플리케이션의 구조 자체를 바꾸기 때무에 다른 플랫폼으로 이전하는게 힘들다. (AWS에서 Google Cloud로 이전)
   - 단순 작업(이메일, 푸시 등)에는 적합하지만 긴 시간을 요하는 작업(영상 업로드, 백업 등)에는 비효율적이다. 서버리스는 함수가 1회 호출 될 때 사용할 수 있는 메모리 및 시간에 제한이 있기 때문이다. 작업이 끝나지 않은채로 해당 시간이 지나면 작업이 끝날때까지 일정 시간마다 계속 함수를 호출하므로 비효율적이다.
</br>
</br>

### BaaS (Backend as a Service)


<img width="500" alt="image" src="https://www.cloudflare.com/img/learning/serverless/glossary/backend-as-a-service-baas/what-is-backend-as-a-service.svg">
   
<img width="500" alt="image" src="https://mblogthumb-phinf.pstatic.net/MjAxOTEyMTZfMjEw/MDAxNTc2NDc1NTcyMjY3.gshJbwG53Q8QG1rpFW1VGwWAmRQv6mfmPfK42mZ13Dog.biUrxuW_BjP5zPCshOzaHkXzqId-Xs0DBxhKB22_AXog.PNG.shakey7/image.png?type=w800">

- 애플리케이션에서 일반 사용자가 보는 영역은 프론트엔드(Front-end), 관리자가 보는 영역은 백엔드(Back-end)
- BaaS는 백엔드인 관리자 영역을 모듈화하여 서비스로 제공하는 개념
- 예를 들어 계산기나 그림판 수준의 애플리케이션을 만든다면 프론트엔드 쪽 코드로도 충분하기 때문에 백엔드 서버까지 만들 필요가 없음. 하지만 데이터 저장, 다른 기기로 접근, 파일 공유 등의 고차원적인 기능을 넣기 위해서는 백엔드 개발이 필수. 개발자가 이러한 모든 서비스를 구축하기는 쉽지 않으므로 BaaS를 활용하여 개발 시간을 단축
- 구글에 인수된 Firebase는 대표적인 BaaS 서비스로 데이터베이스, 소셜 서비스 연동, 메시징, 파일 시스템 등을 API로 제공. 그리고 접속량에 맞춰 서버가 알아서 확장 및 축소하기 때문에 따로 작업이 불필요하며 비용은 사용한 만큼만 책정됨

</br>
</br>

### FaaS (Function as a Service)

<img width="600" alt="image" src="https://mblogthumb-phinf.pstatic.net/MjAxOTEyMTZfMjAx/MDAxNTc2NDc1NTgwMzI2.ib9JThx4NE-LVR5ypZXB62XDdIB3fz2Yk0SQ754cczIg.ezaDr0T_j0_B7d69hUr8DJ3QIcIsAIO2vgLkO7Vzhlog.PNG.shakey7/image.png?type=w800">

- 코드, 즉 함수를 서비스로 제공. 애플리케이션 개발에서 함수를 실행하기 위해 서버를 올리고 런타임을 구성하고 코드를 배포해서 실행해야 하는 일련의 과정을 없애고, 원하는 로직을 함수로 등록만 해놓으면 특정 이벤트가 발생했을 때 함수가 실행되었다가 실행 후 알아서 종료
- 서버가 계속 대기하면서 사용자의 요청을 처리하는 것이 아니라, 이벤트가 있을 때만 함수가 실행되기 때문에 함수가 실행되는 시간 및 호출된 횟수만큼만 비용을 지불. 이벤트가 아닌 5분, 1시간 등 특정 시간 동안만 돌아가도록 설정할 수도 있음. 마찬가지로 요청량에 따라 서버는 알아서 확장 및 축소
- PaaS의 경우 전체 애플리케이션을 배포하며 서버에서 애플리케이션이 24시간 계속 돌아가고 있지만, FaaS는 애플리케이션을 더 작게 쪼갠 함수를 배포하며, 특정 이벤트가 발생했을 때만 실행되고 작업을 마치거나 일정 시간이 지나면 종료
- 주요 서비스 사이에서 간단한 작업을 처리하는 용도로 쓰이며, BaaS와 결합해 시너지를 내기 좋음. 대표적인 서비스로 AWS Lambda, 구글 Knative, Nuclio 등

</br>
</br>

### 서버리스 컴퓨팅 특성
(1) 콜드 스타트 (Cold Start)
- 클라우드 업체는 자원을 효율적으로 관리하기 위해 일정 기간 행위가 없는 사용자에게는 컴퓨팅 파워를 제공하고 있지 않음
- 그러다 비활성 함수가 갑자기 호출되면 꺼져있던 서버가 다시 켜지고 부수적인 세팅을 준비하는데 수 초에서 수십 초 가량의 적지 않은 지연 시간이 발생하여 애플리케이션 성능에 영향을 줄 수도 있음

(2) 무상태 (Stateless)
- 함수가 존재하지 않으면 함수 내의 모든 리소스 종류도 존재하지 않음
- 따라서 세션을 보존해야 하는 경우 메모리보다 데이터베이스에 세션 상태를 저장하는 것이 좋음

(3) 일시적 컨테이너
- 함수는 특정 이벤트가 발생하는 일정 기간 동안만 컨테이너에 배포되고, 그 후 컨테이너 내의 모든 자원은 존재하지 않게 됨
- 따라서 큰 요구 사항을 처리해야 하는 애플리케이션에는 서버리스가 적합하지 않음

(4) 언어 지원
- AWS Lambda: Node.js, Python, Java, C#, Go
- MS Azure: C#, Javascript, F#, Python, Batch, PHP, PowerShell
- Google Function: Node.js, Python, Javascript
- 업체마다 지원하는 언어들이 다르기 때문에 플랫폼을 선택할 때 개발 언어를 미리 고려할 필요가 있음

(5) NoSQL
- 함수는 제한된 데이터베이스 색인(Index)을 구성하기 때문에 서버리스 아키텍처에서 관계형 데이터베이스를 사용하면 동시 연결 수 제한으로 확장성과 성능 문제가 발생
- 따라서 관계형 데이터베이스 대신 NoSQL 데이터베이스가 적합

(6) 파일 시스템 (File System)
- 파일 시스템은 컴퓨터에서 파일이나 자료를 쉽게 발견 및 접근할 수 있도록 보관 또는 조직하는 체계
- 함수는 기본적으로 읽기만 가능. 구성 파일에서 속성을 읽거나 메모리 내 캐시를 외부로 유출하는 것을 지원하지는 않기 때문에 파일 시스템 접근을 허용하지 않음. 따라서 파일 시스템 수준 액세스나 운영 체제 수준 액세스가 필요한 애플리케이션에는 적합하지 않음

### 서버리스 컴퓨팅 한계
- 서버리스는 많은 기업 환경의 비즈니스 로직을 구현하기에는 무리.
- 무상태 및 일시적 컨테이너 등의 특징으로 인해 큰 프로젝트에는 아직 적합하지 않음
- '2018 컨테이너 채택 벤치마크 설문조사'에 참여한 576명의 IT 책임자 중 47%가 ‘컨테이너 가상화’를 현업 시스템 환경에 배포할 계획이라 답했으며, 12%는 이미 컨테이너를 현업 시스템에 적용했다고 응답. 그리고 최근 다른 조사에서도 2018년 기준 컨테이너 엔진을 쓰거나 도입 검토 중인 기업 비중이 전체의 67%를 차지할 만큼 컨테이너 가상화가 트렌드
- 따라서 현재로서는 클라우드 컴퓨팅을 위한 가상화 기술로는 컨테이너 방식이 자리를 잡을 것으로 보이며, 서버리스는 단순 반복 처리를 위한 백엔드 서버 로직, 빅데이터 분석, 머신러닝 등의 서비스에 우선적으로 적용될 것으로 전망
- 대신 현재 IT 지원 및 유지 보수 비용이 기업 전체 IT 예산의 50~60%를 차지하는 상황에서 서버리스 컴퓨팅은 애플리케이션 출시 시간을 단축하고, 변화하는 비즈니스 요구를 지원하며 전면적 혁신을 이끌 것이라는 기대감을 받고 있기 때문에 점차 많은 수요가 예측됨

## AWS (Amazon Web Service)
### 서비스 개요
- 아마존닷컴의 클라우드 컴퓨팅 사업부. 현재 클라우드 컴퓨팅 분야에서 압도적인 세계 1위를 차지하고 있다.
- 2022년 기준으로 AWS 사업부의 매출은 아마존 전체 매출의 16% 정도만을 차지하나, 본사업은 적자이고 모든 영업 이익은 AWS에서만 나오고 있다.
- 아마존의 캐시카우이다. 결국 이 사업은 아마존을 커머스 기업에서 종합 IT 기업으로 탈바꿈

<img width="800" alt="image" src="https://github.com/limp666/cloud-class/assets/63759208/37ef4edf-8ebe-42f0-a8f7-434268198a17">
   
### AWS 글로벌 인프라      

​<img width="1000" alt="image" src="https://github.com/limp666/cloud-class/assets/63759208/33b0bb66-a6ee-4d2f-8b04-7a793f8ab3e8">

#### 리전(Region)
-  AWS가 전 세계에서 데이터 센터를 클러스터링하는 물리적 위치를 리전이라고 합니다.
-  각 AWS 리전은 지리적 영역 내에서 격리되고 물리적으로 분리된 최소 3개의 AZ로 구성됩니다.
<img width="591" alt="image" src="https://github.com/limp666/cloud-class/assets/63759208/61767733-16b9-4e7d-9417-389b06996a89">

-  리전 코드 해석: 지역(ap)-지리적위치(northeast)-순번(2)
-  리전 선택시 고려사항: 서비스 제공 유무확인, 서비스 가격 확인

https://aws.amazon.com/ko/about-aws/global-infrastructure/regional-product-services/

<img width="386" alt="image" src="https://github.com/limp666/cloud-class/assets/63759208/1a5d83d8-1f3e-48ef-a953-f6998d744867">


#### 가용 영역(AZ)
- 논리적 데이터 센터의 각 그룹을 가용 영역이라고 합니다.
- AZ(가용 영역)는 AWS 리전의 중복 전력, 네트워킹 및 연결이 제공되는 하나 이상의 개별 데이터 센터로 구성됩니다.
- AZ는 다른 모든 AZ와 수 킬로미터에 상당하는 유의미한 거리를 두고 물리적으로 분리되어 있습니다. 다만 모든 AZ는 서로 100km(60마일) 이내의 거리에 위치합니다.

​
